# 日本株 成長×割安スクリーニング 設定ファイル
# 全閾値はパラメータ化され、後から調整可能

# ============================================
# 成長指標の閾値（Growth）
# ============================================
growth:
  # 売上成長率（CAGR）の閾値（%）
  # 初期値: 15%、後から10%/8%に変更可能
  revenue_cagr_threshold: 15.0
  
  # EPS成長率（CAGR）の閾値（%）
  eps_cagr_threshold: 15.0
  
  # FCF成長率の閾値（%）
  fcf_growth_threshold: 15.0
  
  # CAGR計算に使用する年数
  cagr_years: 5

# ============================================
# 割安指標の閾値（Valuation）
# ============================================
valuation:
  # PER（株価収益率）の上限
  # 低いほど割安（例: 15倍以下）
  per_max: 20.0
  
  # PSR（株価売上高倍率）の上限
  # 低いほど割安（例: 2.0倍以下）
  psr_max: 3.0
  
  # PEG（PER/成長率）の上限
  # 1.0以下が理想、2.0以下で割安
  peg_max: 2.0
  
  # PBR（株価純資産倍率）の上限（シクリカル用）
  pbr_max: 1.5

# ============================================
# 質指標の閾値（Quality）
# ============================================
quality:
  # ROIC（投下資本利益率）の下限（%）
  # 業種平均以上を基本
  roic_min: 10.0
  
  # 営業利益率の下限（%）
  # 業種平均以上を基本
  operating_margin_min: 5.0
  
  # 負債比率の上限（%）
  # 低いほど財務安全性が高い
  debt_ratio_max: 50.0
  
  # 業種平均との比較基準
  # true: 業種平均以上を要求
  # false: 絶対値で判定
  use_sector_average: true
  
  # 業種平均との差で加点する最小差（%）
  sector_premium_min: 0.0

# ============================================
# リスク除外の閾値（Risk）
# ============================================
risk:
  # 赤字企業を除外するか
  exclude_loss_making: true
  
  # EPSの変動係数（標準偏差/平均）の上限
  # 高いほど乱高下している
  eps_volatility_max: 0.5
  
  # レバレッジ比率の上限
  # 高いほど金利上昇に脆弱
  leverage_ratio_max: 3.0
  
  # 負債/EBITDAの上限
  debt_to_ebitda_max: 5.0

# ============================================
# 利益の質（会計リスク対策）
# ============================================
profit_quality:
  # 営業CF/純利益の最小比率
  # 成熟・安定株: 1.0以上
  # 成長株: 継続的にプラス
  operating_cf_to_net_income_min: 1.0
  
  # 成長株として扱う売上成長率の閾値（%）
  # この値以上なら成長株として緩い基準を適用
  growth_stock_revenue_threshold: 20.0
  
  # 成長株の営業CF要件（継続的にプラス）
  # 最低年数
  growth_stock_cf_positive_years: 3

# ============================================
# 万年割安回避（株主還元）
# ============================================
shareholder_return:
  # 総還元性向の下限（%）
  # 配当性向 + 自社株買い性向
  total_payout_ratio_min: 30.0
  
  # 自社株買いの有無を重視するか
  prioritize_buyback: true
  
  # 増配傾向を重視するか
  prioritize_dividend_growth: true
  
  # 増配年数の最小値
  dividend_growth_years_min: 3

# ============================================
# スコアリング設定
# ============================================
scoring:
  # 各カテゴリの重み（合計100点）
  growth_weight: 40
  valuation_weight: 30
  quality_weight: 30
  
  # 業種平均との差で加点する最大ポイント
  sector_premium_max_points: 10
  
  # 代替指標使用時の減点
  alternative_indicator_penalty: 5
  
  # ROIC信頼度が低い場合の減点
  low_roic_confidence_penalty: 3

# ============================================
# データ取得設定
# ============================================
data_acquisition:
  # 1回の取得で処理する銘柄数
  batch_size: 50
  
  # 取得する財務データの年数
  years: 5
  
  # リトライ回数
  retry_count: 3
  
  # リトライ間隔（秒）
  retry_interval: 5
  
  # レート制限対策の待機時間（秒）
  # 429エラーが発生する場合は5.0秒以上に設定を推奨
  rate_limit_delay: 5.0

# ============================================
# シクリカル銘柄設定
# ============================================
cyclical:
  # シクリカル業種リスト（constants.pyの業種コード）
  cyclical_sectors:
    - "鉄鋼"
    - "非鉄金属"
    - "化学"
    - "石油・石炭製品"
    - "パルプ・紙"
    - "ガラス・土石製品"
    - "機械"
    - "輸送用機器"
  
  # シクリカル銘柄でPERを使用しない
  exclude_per_for_cyclical: true
  
  # 正規化EPSの計算年数
  normalized_eps_years: 10

# ============================================
# その他
# ============================================
general:
  # デバッグモード
  debug: false
  
  # ログレベル（DEBUG, INFO, WARNING, ERROR）
  log_level: "INFO"
  
  # 出力する銘柄数の上限
  max_output_stocks: 50
